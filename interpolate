#!/usr/bin/env node

// available commands
var command = {
  polyline: './cmd/polyline',
  openaddresses: './cmd/oa',
  search: './cmd/search',
  server: './cmd/server',
};

// run command
for( var name in command ){
  if( process.argv[2] == name ){

    // remove cmd name from args
    process.argv.splice(2, 1);

    // run command
    require( command[name] );

    break;
  }
}

var help = [
  "Usage: interpolate [command] [options]",
  "Note: you will need to pipe data in to the import/conflate commands",
  "",
  " help                                                       output usage information",
  " polyline [street_db]                                       import polyline data in to [street_db]",
  " oa [address_db] [street_db]                                conflate oa csv file in to [address_db] using [street_db]",
  " search [address_db] [street_db] [lat] [lon] [street_name]  query databases for address data",
  " server [address_db] [street_db]                            start a web server",
];

console.error( '\n' + help.join('\n') + '\n' );
